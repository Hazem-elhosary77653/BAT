@echo off
REM Business Analyst Assistant Tool - Quick Start Script (Windows)

echo.
echo â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
echo â•‘  Business Analyst Assistant Tool - Quick Start             â•‘
echo â•‘  SQLite Edition (No Docker Required)                       â•‘
echo â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo.

REM Check Node.js
echo ğŸ” Checking Node.js installation...
node --version >nul 2>&1
if errorlevel 1 (
    echo âŒ Node.js is not installed. Please install Node.js 18+ first.
    echo    Download from: https://nodejs.org/
    pause
    exit /b 1
)

for /f "tokens=*" %%i in ('node --version') do set NODE_VERSION=%%i
echo âœ… Node.js %NODE_VERSION% found
echo.

REM Backend Setup
echo â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo ğŸ“¦ Setting up Backend...
echo â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

cd backend

REM Check if node_modules exists
if not exist "node_modules\" (
    echo ğŸ“¥ Installing backend dependencies... ^(this may take a minute^)
    call npm install
    if errorlevel 1 (
        echo âŒ Backend installation failed
        pause
        exit /b 1
    )
) else (
    echo âœ… Backend dependencies already installed
)

REM Check if database exists
if not exist "database.db" (
    echo ğŸ—„ï¸  Creating SQLite database...
    call npm run migrate-sqlite
    if errorlevel 1 (
        echo âŒ Database migration failed
        pause
        exit /b 1
    )
) else (
    echo âœ… Database already exists
)

echo âœ… Backend ready!
echo.

REM Frontend Setup
echo â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo ğŸ“¦ Setting up Frontend...
echo â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

cd ..\frontend

REM Check if node_modules exists
if not exist "node_modules\" (
    echo ğŸ“¥ Installing frontend dependencies... ^(this may take a minute^)
    call npm install
    if errorlevel 1 (
        echo âŒ Frontend installation failed
        pause
        exit /b 1
    )
) else (
    echo âœ… Frontend dependencies already installed
)

echo âœ… Frontend ready!
echo.

REM Display startup instructions
echo â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo ğŸš€ Ready to Start!
echo â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo.
echo Run these commands in separate terminals:
echo.
echo ğŸ“ Terminal 1 - Backend Server:
echo    cd backend
echo    npm run dev
echo.
echo ğŸ“ Terminal 2 - Frontend Server:
echo    cd frontend
echo    npm run dev
echo.
echo ğŸ“ Terminal 3 - Open Browser:
echo    http://localhost:3000
echo.
echo â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo.
echo ğŸ” Test Credentials:
echo    Email: admin@example.com
echo    Password: password123
echo.
echo â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo.
echo âœ¨ Setup complete! Your database is: backend\database.db
echo.
pause
